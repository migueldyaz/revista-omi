
/* =====================================================
   Revista OMI — style.omi.patch.css
   Drop-in overrides to apply on top of assets/style.css
   ===================================================== */

/* ---------- 0) Variables de color (base) ---------- */
:root{
  --omi-primary:#004B87;
  --omi-primary-700:#003C6C;
  --omi-primary-600:#005fa3;
  --omi-accent:#006bbf;
  --omi-text:#222;
  --omi-muted:#6b7280;
  --omi-border:#e5e7eb;
  --omi-bg:#f4f4f4;
}

/* ---------- 1) Layout: Grid en vez de floats ---------- */
.container{
  max-width:1200px; margin:20px auto; padding:20px;
  background:#fff; box-shadow:0 0 10px #ccc; border-radius:6px;
  display:grid; grid-template-columns: 1fr; gap:20px;
}
.content{ width:auto; }
.sidebar{ width:auto; padding-left:0; }

/* Vista artículo: proporciones en pantallas anchas */
@media (min-width: 992px){
  .container{ grid-template-columns: 1.9fr .95fr; align-items:start; }
  .view-article .content{ padding:20px; }
  .view-article .sidebar{ padding:20px; }
}

/* ---------- 2) Menú móvil robusto (clase .open) ---------- */
nav.menu{ position:relative; }
@media (max-width: 768px){
  .hamburger{ display:block; }
  nav.menu ul.menu-root{
    position:absolute; top:60px; left:0; width:80%;
    transform:translateX(-100%); opacity:0;
    transition:transform .3s ease, opacity .3s ease;
  }
  nav.menu.open ul.menu-root{ transform:translateX(0); opacity:1; }
  nav.menu .submenu{ position:static; }
}

/* ---------- 3) Recolorear con variables ---------- */
h2{ color: var(--omi-primary); }
h3, h4{ color: var(--omi-primary-700); }
nav{ background-color: var(--omi-primary-700); }
nav a.active{ background-color: var(--omi-primary-600); }
.article .links a{ background: var(--omi-primary); }
.downloads a{ background: var(--omi-primary); }
.downloads a:hover{ background: var(--omi-primary-700); }

/* ---------- 4) Fallback si JS/View Transitions no cargan ---------- */
body{ opacity:1; transition:none; }
@supports (view-transition-name: page){
  body{ opacity:0; transition:opacity .25s ease-in-out; }
  body.loaded{ opacity:1; }
}

/* ---------- 5) Lectura: medida óptima + sin justificado en móvil ---------- */
.content{ max-width: 72ch; }
@media (max-width:640px){
  p{ text-align:left; }
}

/* ---------- 6) Accesibilidad: foco visible en CTAs ---------- */
.article .links a:focus-visible,
.downloads a:focus-visible{
  outline:2px solid #66bbff; outline-offset:2px; border-radius:4px;
}

/* ---------- 7) Sidebar meta-blocks ---------- */
.paper-meta{ font-size:.95rem; }
.paper-meta .value{ word-break:break-word; }
.view-article .breadcrumb{ margin-bottom:1rem; }

/* ---------- 8) Tablas largas: zebra + sticky head (opcional) ---------- */
.tabla-omi tbody tr:nth-child(odd){ background:#fafafa; }
.table-responsive thead th{
  position:sticky; top:0; background:#fff; z-index:1;
}

/* ---------- 9) Hoja de impresión ---------- */
@media print{
  header, nav, .hamburger, #btn-top, .breadcrumb, .homepage-hero, .site-footer{ display:none !important; }
  .container{ box-shadow:none; padding:0; }
  .content, .sidebar{ width:100%; padding:0; }
  body{ background:#fff; color:#000; }
  a{ color:#000; text-decoration:none; }
  .issue-cover img{ max-width:180px; }
}
